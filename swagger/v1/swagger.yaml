---
openapi: 3.0.1
info:
  title: API V1
  version: v1
paths:
  "/api/v1/admin/categories":
    get:
      summary: Retrieves all categories
      tags:
      - Categories
      security:
      - bearerAuth: []
      responses:
        '200':
          description: categories found
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                  message:
                    type: string
                  data:
                    type: array
                    items:
                      type: object
                      properties:
                        _id:
                          type: string
                        name:
                          type: string
                        description:
                          type: string
                        parent_id:
                          type: string
                          nullable: true
                        status:
                          type: boolean
                        created_at:
                          type: string
                          format: date_time
                        updated_at:
                          type: string
                          format: date_time
                      required:
                      - _id
                      - name
                      - description
                      - status
                      - created_at
                      - updated_at
                required:
                - status
                - message
                - data
    post:
      summary: Creates a category
      tags:
      - Categories
      security:
      - bearerAuth: []
      parameters: []
      responses:
        '201':
          description: category created
        '422':
          description: invalid request
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                description:
                  type: string
              required:
              - name
              - description
  "/api/v1/admin/categories/{id}":
    get:
      summary: Retrieves a category
      tags:
      - Categories
      security:
      - bearerAuth: []
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: string
      responses:
        '200':
          description: category found
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                  message:
                    type: string
                  data:
                    type: object
                    properties:
                      _id:
                        type: string
                      name:
                        type: string
                      description:
                        type: string
                      parent_id:
                        type: string
                        nullable: true
                      status:
                        type: boolean
                      created_at:
                        type: string
                        format: date_time
                      updated_at:
                        type: string
                        format: date_time
                    required:
                    - _id
                    - name
                    - description
                    - status
                    - created_at
                    - updated_at
                required:
                - status
                - message
                - data
        '404':
          description: category not found
    put:
      summary: Updates a category
      tags:
      - Categories
      security:
      - bearerAuth: []
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: string
      responses:
        '200':
          description: category updated
        '422':
          description: invalid request
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                description:
                  type: string
              required:
              - name
              - description
    delete:
      summary: Deletes a category
      tags:
      - Categories
      security:
      - bearerAuth: []
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: string
      responses:
        '204':
          description: category deleted
        '404':
          description: category not found
  "/api/v1/admin/events":
    get:
      summary: Retrieves all events
      tags:
      - Events
      security:
      - bearerAuth: []
      responses:
        '200':
          description: events found
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                  message:
                    type: string
                  data:
                    type: array
                    items:
                      type: object
                      properties:
                        _id:
                          type: string
                        title:
                          type: string
                        description:
                          type: string
                        location:
                          type: string
                        starts_at:
                          type: string
                          format: date_time
                        ends_at:
                          type: string
                          format: date_time
                        organizer:
                          type: string
                        status:
                          type: string
                        category_id:
                          type: string
                        user_id:
                          type: string
                        created_at:
                          type: string
                          format: date_time
                        updated_at:
                          type: string
                          format: date_time
                      required:
                      - _id
                      - title
                      - description
                      - location
                      - starts_at
                      - ends_at
                      - organizer
                      - status
                      - category_id
                      - user_id
                      - created_at
                      - updated_at
                required:
                - status
                - message
                - data
    post:
      summary: Creates an event
      tags:
      - Events
      security:
      - bearerAuth: []
      parameters: []
      responses:
        '201':
          description: event created
        '422':
          description: invalid request
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                title:
                  type: string
                description:
                  type: string
                location:
                  type: string
                starts_at:
                  type: string
                  format: date_time
                ends_at:
                  type: string
                  format: date_time
                organizer:
                  type: string
                status:
                  type: string
                category_id:
                  type: string
                user_id:
                  type: string
              required:
              - title
              - description
              - location
              - starts_at
              - ends_at
              - organizer
              - status
              - category_id
              - user_id
  "/api/v1/admin/events/{id}":
    get:
      summary: Retrieves an event
      tags:
      - Events
      security:
      - bearerAuth: []
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: string
      responses:
        '200':
          description: event found
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                  message:
                    type: string
                  data:
                    type: object
                    properties:
                      _id:
                        type: string
                      title:
                        type: string
                      description:
                        type: string
                      location:
                        type: string
                      starts_at:
                        type: string
                        format: date_time
                      ends_at:
                        type: string
                        format: date_time
                      organizer:
                        type: string
                      status:
                        type: string
                      category_id:
                        type: string
                      user_id:
                        type: string
                      created_at:
                        type: string
                        format: date_time
                      updated_at:
                        type: string
                        format: date_time
                    required:
                    - _id
                    - title
                    - description
                    - location
                    - starts_at
                    - ends_at
                    - organizer
                    - status
                    - category_id
                    - user_id
                    - created_at
                    - updated_at
                required:
                - status
                - message
                - data
        '404':
          description: event not found
    put:
      summary: Updates an event
      tags:
      - Events
      security:
      - bearerAuth: []
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: string
      responses:
        '200':
          description: event updated
        '422':
          description: invalid request
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                title:
                  type: string
                description:
                  type: string
                location:
                  type: string
                starts_at:
                  type: string
                  format: date_time
                ends_at:
                  type: string
                  format: date_time
                organizer:
                  type: string
                status:
                  type: string
                category_id:
                  type: string
                user_id:
                  type: string
              required:
              - title
              - description
              - location
              - starts_at
              - ends_at
              - organizer
              - status
              - category_id
              - user_id
    delete:
      summary: Deletes an event
      tags:
      - Events
      security:
      - bearerAuth: []
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: string
      responses:
        '204':
          description: event deleted
        '404':
          description: event not found
  "/api/v1/admin/permissions":
    get:
      summary: Retrieves all permissions
      tags:
      - Permissions
      security:
      - bearerAuth: []
      responses:
        '200':
          description: permissions found
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                  message:
                    type: string
                  data:
                    type: array
                    items:
                      type: object
                      properties:
                        _id:
                          type: string
                        action:
                          type: string
                        subject_class:
                          type: string
                        role_id:
                          type: string
                        created_at:
                          type: string
                          format: date_time
                        updated_at:
                          type: string
                          format: date_time
                      required:
                      - _id
                      - action
                      - subject_class
                      - role_id
                      - created_at
                      - updated_at
                required:
                - status
                - message
                - data
    post:
      summary: Creates a permission
      tags:
      - Permissions
      security:
      - bearerAuth: []
      parameters: []
      responses:
        '201':
          description: permission created
        '422':
          description: invalid request
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                action:
                  type: string
                subject_class:
                  type: string
                role_id:
                  type: string
              required:
              - action
              - subject_class
              - role_id
  "/api/v1/admin/permissions/{id}":
    get:
      summary: Retrieves a permission
      tags:
      - Permissions
      security:
      - bearerAuth: []
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: string
      responses:
        '200':
          description: permission found
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                  message:
                    type: string
                  data:
                    type: object
                    properties:
                      _id:
                        type: string
                      action:
                        type: string
                      subject_class:
                        type: string
                      role_id:
                        type: string
                      created_at:
                        type: string
                        format: date_time
                      updated_at:
                        type: string
                        format: date_time
                    required:
                    - _id
                    - action
                    - subject_class
                    - role_id
                    - created_at
                    - updated_at
                required:
                - status
                - message
                - data
        '404':
          description: permission not found
    put:
      summary: Updates a permission
      tags:
      - Permissions
      security:
      - bearerAuth: []
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: string
      responses:
        '200':
          description: permission updated
        '422':
          description: invalid request
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                action:
                  type: string
                subject_class:
                  type: string
                role_id:
                  type: string
              required:
              - action
              - subject_class
              - role_id
    delete:
      summary: Deletes a permission
      tags:
      - Permissions
      security:
      - bearerAuth: []
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: string
      responses:
        '204':
          description: permission deleted
        '404':
          description: permission not found
  "/api/v1/admin/roles":
    get:
      summary: Retrieves all roles
      tags:
      - Roles
      security:
      - bearerAuth: []
      responses:
        '200':
          description: roles found
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                  message:
                    type: string
                  data:
                    type: array
                    items:
                      type: object
                      properties:
                        _id:
                          type: string
                        name:
                          type: string
                        created_at:
                          type: string
                          format: date_time
                        updated_at:
                          type: string
                          format: date_time
                      required:
                      - _id
                      - name
                      - created_at
                      - updated_at
                required:
                - status
                - message
                - data
    post:
      summary: Creates a role
      tags:
      - Roles
      security:
      - bearerAuth: []
      parameters: []
      responses:
        '201':
          description: role created
        '422':
          description: invalid request
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                description:
                  type: string
              required:
              - name
              - description
  "/api/v1/admin/roles/{id}":
    get:
      summary: Retrieves a role
      tags:
      - Roles
      security:
      - bearerAuth: []
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: string
      responses:
        '200':
          description: role found
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                  message:
                    type: string
                  data:
                    type: object
                    properties:
                      _id:
                        type: string
                      name:
                        type: string
                      description:
                        type: string
                      created_at:
                        type: string
                        format: date_time
                      updated_at:
                        type: string
                        format: date_time
                    required:
                    - _id
                    - name
                    - description
                    - created_at
                    - updated_at
                required:
                - status
                - message
                - data
        '404':
          description: role not found
    put:
      summary: Updates a role
      tags:
      - Roles
      security:
      - bearerAuth: []
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: string
      responses:
        '200':
          description: role updated
        '422':
          description: invalid request
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                description:
                  type: string
              required:
              - name
              - description
    delete:
      summary: Deletes a role
      tags:
      - Roles
      security:
      - bearerAuth: []
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: string
      responses:
        '204':
          description: role deleted
        '404':
          description: role not found
  "/api/v1/admin/users":
    get:
      summary: Retrieves all users
      tags:
      - Users
      security:
      - bearerAuth: []
      responses:
        '200':
          description: users found
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                  message:
                    type: string
                  data:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: string
                        name:
                          type: string
                        email:
                          type: string
                        role_id:
                          type: string
                        created_at:
                          type: string
                          format: date_time
                        updated_at:
                          type: string
                          format: date_time
                      required:
                      - id
                      - name
                      - email
                      - role_id
                      - created_at
                      - updated_at
                required:
                - status
                - message
                - data
    post:
      summary: Creates a user
      tags:
      - Users
      security:
      - bearerAuth: []
      parameters: []
      responses:
        '201':
          description: user created
        '422':
          description: invalid request
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                email:
                  type: string
                password:
                  type: string
                password_confirmation:
                  type: string
                role_id:
                  type: string
              required:
              - name
              - email
              - password
              - password_confirmation
              - role_id
  "/api/v1/admin/users/{id}":
    get:
      summary: Retrieves a user
      tags:
      - Users
      security:
      - bearerAuth: []
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: string
      responses:
        '200':
          description: user found
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                  message:
                    type: string
                  data:
                    type: object
                    properties:
                      id:
                        type: string
                      name:
                        type: string
                      email:
                        type: string
                      role_id:
                        type: string
                      created_at:
                        type: string
                        format: date_time
                      updated_at:
                        type: string
                        format: date_time
                    required:
                    - id
                    - name
                    - email
                    - role_id
                    - created_at
                    - updated_at
                required:
                - status
                - message
                - data
        '404':
          description: user not found
    put:
      summary: Updates a user
      tags:
      - Users
      security:
      - bearerAuth: []
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: string
      responses:
        '200':
          description: user updated
        '422':
          description: invalid request
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                email:
                  type: string
                password:
                  type: string
                password_confirmation:
                  type: string
                role_id:
                  type: string
              required:
              - name
              - email
              - password
              - password_confirmation
              - role_id
    delete:
      summary: Deletes a user
      tags:
      - Users
      security:
      - bearerAuth: []
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: string
      responses:
        '204':
          description: user deleted
        '404':
          description: user not found
  "/auth":
    post:
      summary: Registers a new user
      tags:
      - Authentication
      parameters: []
      responses:
        '200':
          description: user registered
        '422':
          description: invalid request
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                email:
                  type: string
                password:
                  type: string
                password_confirmation:
                  type: string
              required:
              - email
              - password
              - password_confirmation
  "/auth/sign_in":
    post:
      summary: Signs in a user
      tags:
      - Authentication
      parameters: []
      responses:
        '200':
          description: user signed in
        '401':
          description: invalid credentials
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                email:
                  type: string
                password:
                  type: string
              required:
              - email
              - password
  "/auth/sign_out":
    delete:
      summary: Signs out a user
      tags:
      - Authentication
      security:
      - bearerAuth: []
      responses:
        '200':
          description: user signed out
servers:
- url: http://{defaultHost}
  description: "{defaultDescription}"
  variables:
    defaultHost:
      default: localhost:3000
    defaultDescription:
      default: Local development server
components:
  securitySchemes:
    bearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT
tags:
- name: Authentication
  description: Endpoints related to authentication. Please use this to authenticate
    your requests.
